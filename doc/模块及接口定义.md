# 模块及接口定义

* [CPU](#cpu)
    + IF级
      - [R_PC](#r_pc)
	  - [IF_MUX1](#if_mux1)
	  - [SUB4](#sub4)
	  - [ADD4](#add4)
	  - [ADD8](#add8)
      - [IM](#im)
	  - [IF_EXC](#if_exc)
    + ID级
	  - [ID_MUX1](#id_mux1)
	  - [ID_REG](#id_reg)
	  - [RF](#rf)
      - [ID_CU](#id_cu)
      - [ID_EXT](#id_ext)
	  - [ID_EXC](#id_exc)
	  - [ID_MUX4](#id_mux4)
	  - [ID_MUX2](#id_mux2)
	  - [ID_MUX3](#id_mux3)
    + EX级
	  - [EX_REG](#ex_reg)
	  - [EX_MUX1](#ex_mux1)
	  - [ADD](#add)
      - [ALU](#alu)
	  - [EX_CU](#ex_cu)
	  - [EX_EXC](#ex_exc)
      - [DIV](#div)
      - [MULT](#mult)
	  - [EX_AND1](#ex_and1)
	  - [EX_OR1](#ex_or1)
	+ EX_EXCEPTION级
	  - [EXCEPTION_REG](#exception_reg)
	  - [EXCEPTION_MUX1](#exception_mux1)
	  - [CATCH](#catch)
	  - [EXC_CU1](#exc_cu1)
	  - [EXC_CU2](#exc_cu2)
	  - [EXCEPTION_MUX3](#exception_mux3)
	  - [EXCEPTION_MUX2](#exception_mux2)
    + MEM级
	  - [MEM_REG](#mem_reg)
	  - [MEM_MUX1](#mem_mux1)
      - [DM](#dm)
	  - [MEM_CU](#mem_cu)
    + WB级
	  - [WB_MUX1](#wb_mux1)
	  - [WB_REG](#wb_reg)
	  - [WB_CU](#wb_cu)
	  - [WB_MUX2](#wb_mux2)
	  - [WB_MUX3](#wb_mux3)
	  - [HILO](#hilo)
	  - [WB_MUX4](#wb_mux4)
    + [STALL](#stall)
	+ [FLUSH](#flush)

## CPU

### IF

#### R_PC

- 部件描述：程序计数器
- 部件类型：寄存器
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc			|IF_MUX1		|32	|下一跳指令的地址			|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|pc_			|IF.IF_EXC/IF.IM/IF.SUB4/IF.ADD8/IF.ADD4/ID.ID_MUX1	|32	|本次进入流水线的指令的地址		|
- [top](#cpu)

#### IF_MUX1

- 部件描述：下一阶段pc值的选择器
- 部件类型：优先选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_npc		|{rst/FALSH.flush_[0]/STALL.stall_[0]/ID.ID_CU.jb_/EX.EX_AND1.bb_}		|5	|硬件复位，流水线冲刷，流水线暂停，两种类型的分支|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc			|IF.R_PC			|32	|暂停时的pc值	|
	|_pc_add4			|IF.ADD4				|32	|正常的pc+4			|
	|_jb_target		|ID.ID_MUX4			|32	|j类型分支指令的跳转地址	|
	|_bb_target		|EX.ADD				|32	|b类型分支指令的跳转地址	|
	|_excpc		|EXCEPTION.EXCEPTION_MUX3		|32	|发生异常的异常处理程序地址		|
	|_rstpc			|常数发生器			|32	|硬件复位的初始程序地址			|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|pc_			|R_PC		|32	|选出的下一条指令的地址				|
- [top](#cpu)

#### SUB4

- 部件描述：计算pc-4
- 部件类型：减法器
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc		|IF.R_PC			|32	|当前取指阶段的PC			|
	|_32constant4		|常数发生器		|32	|32位常数4				|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|pc_sub4_		|ID_MUX1		|32	|作为例外处理的返回地址				|
- [top](#cpu)

#### ADD4

- 部件描述：计算pc+4
- 部件类型：加法器
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc		|IF.R_PC			|32	|当前取指阶段的PC			|
	|_32constant4		|常数发生器		|32	|32位常数4				|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|pc_add4_	|IF_MUX1		|32	|可能的下一跳执行的指令的地址			|
- [top](#cpu)

#### ADD8

- 部件描述：计算pc+8
- 部件类型：加法器
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc		|IF.R_PC			|32	|当前取指阶段的PC			|
	|_32constant8		|常数发生器		|32	|32位常数8				|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|pc_add8_	|ID_MUX1		|32	|链接跳转指令要保存进31号寄存器的返回地址			|
- [top](#cpu)

#### IM

- 模块描述：指令寄存器
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc		|IF.R_PC		|32	|本次进入流水线的指令的地址		|	
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|inst_		|ID_MUX1		|32	|本次进入流水线的指令		|
- 内部部件说明：  
	|名称          |个数|位宽|类型	|描述                    |
	|:---:         |:---:	|:----:						|:----:						|:----:						|
	|inst_rom		|1024|32|寄存器		|临时充当指令存储器		|
- [top](#cpu)

#### IF_EXC

- 模块描述：取指阶段的异常捕获模块
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc		|IF.R_PC		|32	|本次进入流水线的指令的地址		|	
	|_32constant0		|常数发生器			|32	|32位常数0				|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|exc_	|ID_MUX1		|32	|异常向量				|
- [top](#cpu)

### ID

#### ID_MUX1

- 部件描述：选择进入译码阶段的寄存器数据
- 部件类型：优先选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_id_data		|{rst/FLUSH.flush_[1]/STALL.stall[1]}|3|硬件复位，流水线冲刷，流水线暂停		|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_32constant0		|常数生成器				|32	|32位常数0（流水线冲刷和复位）			|
	|_linst	|ID_REG		|32|当前译码阶段的输入数据（ID暂停时的传入的数据）|
	|_lpc		|ID_REG		|32||
	|_lpc_sub4	|ID_REG		|32||
	|_lpc_add8	|ID_REG		|32||
	|_lpc_add4	|ID_REG		|32||
	|_lexc		|ID_REG		|32||
	|_ljb_delaysolt	|ID_REG	|1 ||
	|_inst		|IF.IM		|32	|正常将进入译码阶段的指令			|
	|_pc		|IF.R_PC			|32|正常将进入译码阶段的指令的地址					|
	|_pc_sub4	|IF.SUB4			|32|pc-4用于延迟槽指令的异常返回地址				|
	|_pc_add4	|IF.ADD4			|32|pc+4用于EX阶段计算b类型分支指令的跳转地址			|
	|_pc_add8	|IF.ADD8			|32|pc+8链接跳转指令保存的返回地址				|
	|_exc		|IF.IF_EXC			|32|正常将进入译码阶段的异常向量					|
	|_jb_delaysolt	|ID.ID_CU.jb_	|1 |正常进入译码阶段的指令是否是延迟槽指令			|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:----|
	|inst_		|ID_REG			|32|进入译码阶段的指令			|
	|pc_		|ID_REG			|32|将进入译码阶段的指令的地址					|
	|pc_sub4_	|ID_REG			|32|pc-4用于延迟槽指令的异常返回地址				|
	|pc_add4_	|ID_REG			|32|pc+4用于EX阶段计算b类型分支指令的跳转地址			|
	|pc_add8_	|ID_REG			|32|pc+8链接跳转指令保存的返回地址				|
	|exc_		|ID_REG			|32|进入译码阶段的异常向量					|
	|jb_delaysolt_		|ID_REG	|1 |进入译码阶段的指令是否是延迟槽指令		|
- [top](#cpu)

#### ID_REG

- 部件描述：缓存IF传递过来的数据
- 部件类型：寄存器组
- 内部寄存器说明
	|名称			|位宽|描述			|
	|:---:|:---:|:---:|
	|IR			|32|缓存指令						|
	|PC			|32|缓存PC                         |
	|PC_SUB4	|32|缓存PC-4                       |
	|PC_ADD4	|32|缓存PC+4                       |
	|PC_ADD8	|32|缓存PC+8                       |
	|EXC		|32|缓存异常向量				   |
	|DELAYSOLT	|1 |缓存当前指令是否是延迟槽指令   |
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_inst		|ID.ID_MUX1			|32|即将进入译码阶段的指令			|
	|_pc		|ID.ID_MUX1			|32|即将进入译码阶段的指令的地址					|
	|_pc_sub4	|ID.ID_MUX1			|32|pc-4用于延迟槽指令的异常返回地址				|
	|_pc_add4	|ID.ID_MUX1			|32|pc+4用于延迟槽指令的异常返回地址				|
	|_pc_add8	|ID.ID_MUX1			|32|pc+8链接跳转指令保存的返回地址				|
	|_exc		|ID.ID_MUX1			|32|异常向量					|
	|_jb_delaysolt	|ID.ID_MUX1			|1 |即将进入译码阶段的指令是否是j型跳转指令的延迟槽指令			|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|inst_		|ID.ID_MUX1._linst/ID.ID_CU._inst/ID.ID_EXT._imm26/ID.RF._rs_addr/ID.RF._rt_addr/EX.EX_MUX1._inst/EXCEPTION.CP0._raddr|32|即将进入译码阶段的指令			|
	|pc_		|ID.ID_MUX1._lpc/ID.ID_EXT._pc/EX.EX_MUX1._pc|32|即将进入译码阶段的指令的地址					|
	|pc_sub4_	|ID.ID_MUX1._lpc_sub4/EX.EX_MUX1._pc_sub4|32|pc-4用于延迟槽指令的异常返回地址				|
	|pc_add4_	|ID.ID_MUX1._lpc_add/EX.EX_MUX1._pc_add4|32|pc+4用于延迟槽指令的异常返回地址				|
	|pc_add8_	|ID.ID_MUX1._lpc_add8/EX.EX_MUX1._pc_add8|32|pc+8链接跳转指令保存的返回地址				|
	|exc_		|ID.ID_MUX1._lexc/EX.EX_MUX1._exc|32|异常向量					|
	|jb_delaysolt_	|ID.ID_MUX1._ljb_delaysolt/ID.ID_OR1._jb_delaysolt		|1 |即将进入译码阶段的指令是否是j型跳转指令的延迟槽指令			|
- [top](#cpu)

#### RF

- 部件描述：CPU寄存器组
- 内部部件说明
	|名称|个数	|位宽	|类型	|描述|
	|:---:|:---:|:---:|:---:|:---:|
	|regfile	|32		|32	|寄存器|CPU寄存器组		|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _rs_addr | ID.ID_REG.inst_[25:21] | 5 | rs寄存器的地址 |
	| _rt_addr | ID.ID_REG.inst_[20:16]/MEM.MEM_REG.inst_[20:16]/WB.WB_REG.inst_[20:16] | 5 | rt寄存器的地址 |
	| _wdata   | WB.WB_MUX2.rf_wdata_	| 3 | RF的写数据	|
	| _waddr   | WB.WB_MUX3.rf_waddr_	| 3 | RF的写地址	|
	| _we	   | WB.WB_CU.rf_we_		| 1 | RF的写使能	|
	| _stall   | STALL.stall_[6]		| 1 | 写暂停信号    |
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| rs_data_ | ID.ID_MUX2._rs_data/ID.ID_MUX4._rs_data | 32 | rs寄存器中的值 |
	| rt_data_ | ID.ID_MUX3_rt_data/MEM.DM._wdata/EXCEPTION.CP0._wdata             | 32 | rt寄存器中的值 |
- [top](#cpu)

#### ID_CU

- 模块描述：译码阶段控制单元
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_inst		|ID.ID_REG.inst_		|32		|进行译码的指令|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| sel_jb_target_ | ID.ID_MUX4._sel_jb_target | 2    | 选择j类型分支指令的目标地址 |
	| jb_            | IF.IF_MUX1._sel_npc[3]    | 1    | 是否是j类型分支指令         |
	| id_extend_     | ID.ID_EXT._id_extend      | 3    | 立即数拓展方式              |
	| sel_data1_     | ID.ID_MUX2._sel_data1     | 2    | 选择alu的原操作数1          |
	| sel_data2_     | ID.ID_MUX3._sel_data2     | 2    | 选择alu的原操作数2          |
	| syscall_       | ID.ID_EXC._syscall        | 1    | 当前是否是syscall指令       |
	| break_         | ID.ID_EXC._break          | 1    | 当前是否是break指令         |
	| eret_          | ID.ID_EXC._eret           | 1    | 当前是否是eret指令          |
	| rs_            | ID.ID_EXC._rs             | 1    | 当前是否是保留指令          |
- [top](#cpu)

#### ID_EXT

- 部件描述：位拓展器
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _id_extend | ID.ID_CU.id_extend_   | 3  | 位拓展器拓展方法 |
	| _imm26     | ID.ID_REG.inst_[26:0] | 26 | 待拓展的立即数   |
	| _pc        | ID.ID_REG.pc_         | 32 | 拓展需要用到的pc |
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| imm32_ | ID.ID_MUX4._imm32/EX.EX_MUX1._imm32/ID.ID_MUX2._imm32/ID.ID_MUX3.imm32 | 32 | 拓展后的立即数 |
- [top](#cpu)

#### ID_EXC

- 部件描述：译码阶段异常捕获模块
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _exc     | ID.ID_REG.exc_    | 32 | 异常向量           |
	| _syscall | ID.ID_CU.syscall_ | 1  | 指令是否是系统调用 |
	| _break   | ID.ID_CU.break_   | 1  | 是否是break指令    |
	| _eret    | ID.ID_CU.eret_    | 1  | 是否是eret指令     |
	| _rs      | ID.ID_CU.rs_      | 1  | 是否是保留指令     |
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| exc_ | EX.EX_MUX1._exc | 32 | 执行阶段之前捕获的异常向量 |
- [top](#cpu)

#### ID_MUX4

- 部件描述：选择j类型分支指令的跳转地址
- 部件类型：选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _sel_jb_target | ID.ID_CU.sel_jb_target_ | 2 | 选择j类型分支指令的跳转地址 |
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _imm32       | ID.ID_EXT.imm32_ | 32 | 拓展来的立即数作为跳转目标 |
	| _rs_data     | ID.RF.rs_data_   | 32 | rs的值作为跳转目标         |
	| _32constant0 | 常数生成器       | 32 | 32位的0                    |
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| jb_target_ | IF.IF_MUX1._jb_target | 32 | j类型跳转指令的目标地址 |
- [top](#cpu)

#### ID_MUX2

- 部件描述：选择alu原操作数1
- 部件类型：选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _sel_data1 | ID.ID_CU.sel_data1_ | 3 | 选择alu的原操作数1	|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _32constant0 | 常数生成器       | 32 | 32位的0                    |
	| _32constant16| 常数生成器		  | 32 | 32位的16				    |
	| _rs_data     | ID.RF.rs_data_   | 32 | rs的值作为跳转目标         |
	| _cp0_rd_rdata | EXCEPTION.CP0.rdata	| 32 | 读出的cp0寄存器的值（MFC0）		|
	| _imm32       | ID.ID_EXT.imm32_ | 32 | 拓展来的立即数				|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| data1_ | EX.EX_MUX1._data1 | 32 | alu的原操作数1 |
- [top](#cpu)

#### ID_MUX3

- 部件描述：选择alu原操作数2
- 部件类型：选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _sel_data2 | ID.ID_CU.sel_data2_ | 2 | 选择alu的原操作数2	|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _32constant0 | 常数生成器       | 32 | 32位的0                    |
	| _rt_data     | ID.RF.rt_data_   | 32 | rt的值作为跳转目标         |
	| _imm32       | ID.ID_EXT.imm32_ | 32 | 拓展来的立即数				|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| data2_ | EX.EX_MUX1._data2 | 32 | alu的原操作数2 |
- [top](#cpu)

#### ID_OR1

- 部件描述：选择进入执行阶段的指令是否是延迟槽指令
- 部件类型：二输入或门
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_jb_delaysolt		|ID.ID_REG.jb_delaysolt_		|1	|译码阶段的指令是否是延迟槽指令			|
	|_bb_delaysolt		|EX.EX_CU.bb_				|1	|执行阶段的指令是否是b类型跳转指令			|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|delaysolt_				|EX.EX_MUX1._delaysolt			|1	|即将进入执行阶段的指令是否是延迟槽指令			|
- [top](#cpu)

### EX

#### EX_REG

- 部件描述：缓存ID传递过来的数据
- 部件类型：寄存器组
- 内部寄存器说明
	|名称			|位宽|描述			|
	|:---:|:---:|:---:|
	|IR			|32|缓存指令						|
	|PC			|32|缓存PC                         |
	|PC_SUB4	|32|缓存PC-4                       |
	|PC_ADD4	|32|缓存PC+4                       |
	|PC_ADD8	|32|缓存PC+8                       |
	|EXC		|32|缓存异常向量					|
	|DATA1		|32|缓存alu的操作数1				|
	|DATA2		|32|缓存alu的操作数2				|
	|IMM32		|32|缓存位拓展之后的立即数			|
	|DELAYSOLT	|1 |缓存当前指令是否是延迟槽指令   |
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_inst		|EX.EX_MUX1			|32|即将进入执行阶段的指令			|
	|_pc		|EX.EX_MUX1			|32|即将进入执行阶段的指令的地址					|
	|_pc_sub4	|EX.EX_MUX1			|32|pc-4用于延迟槽指令的异常返回地址				|
	|_pc_add4	|EX.EX_MUX1			|32|pc+4用于计算b类型分支指令跳转地址			|
	|_pc_add8	|EX.EX_MUX1			|32|pc+8链接跳转指令保存的返回地址				|
	|_exc		|EX.EX_MUX1			|32|异常向量					|
	|_data1		|EX.EX_MUX1			|32|即将进入执行阶段的alu原操作数1		|
	|_data2		|EX.EX_MUX1			|32|即将进入执行阶段的alu原操作数2		|
	|_imm32		|EX.EX_MUX1			|32|即将进入执行阶段的32位立即数		|
	|_delaysolt	|EX.EX_MUX1			|1 |即将进入执行阶段的指令是否是延迟槽指令			|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|inst_		|EX.EX_MUX1._linst/EX.EX_CU._inst/EXCEPTION.EXCEPTION_MUX1._inst|32|进入执行阶段的指令			|
	|pc_		|EX.EX_MUX1._lpc/EXCEPTION.EXCEPTION_MUX1._pc|32|进入执行阶段的指令的地址					|
	|pc_sub4_	|EX.EX_MUX1._lpc_sub4/EXCEPTION.EXCEPTION_MUX1._pc_sub4|32|pc-4用于延迟槽指令的异常返回地址				|
	|pc_add4_	|EX.EX_MUX1._lpc_add4/EX.ADD._pc_add4|32|pc+4用于计算b类型分支指令跳转地址			|
	|pc_add8_	|EX.EX_MUX1._lpc_add8/EXCEPTION.EXCEPTION_MUX1._pc_add8|32|pc+8链接跳转指令保存的返回地址				|
	|exc_		|EX.EX_MUX1._lexc/EX.EXC._exc|32|进入执行阶段的异常向量					|
	|data1_		|EX.EX_MUX1._ldata1/EX.ALU._data1		|32|进入执行阶段的alu原操作数1		|
	|data2_		|EX.EX_MUX1._ldata2/EX.ALU._data2		|32|进入执行阶段的alu原操作数2		|
	|imm32_		|EX.EX_MUX1._imm32/EX.ADD._imm32		|32|进入执行阶段的32位立即数		|
	|delaysolt_	|EX.EX_MUX1._ldelaysolt/EXCEPTION.EXCEPTION_MUX1._delaysolt			|1 |即将进入执行阶段的指令是否是延迟槽指令			|
- [top](#cpu)

#### EX_MUX1

- 部件描述：选择进入执行阶段的寄存器数据
- 部件类型：优先选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_ex_data		|{rst/FLUSH.flush_[2]/STALL.stall[2]}|3|硬件复位，流水线冲刷，流水线暂停		|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_32constant0		|常数生成器		|32	|32位常数0（复位，冲刷用）			|
	|_linst		|EX_REG		|32|当前EX阶段传入的数据（暂停时选择）|
	|_lpc		|EX_REG		|32||
	|_lpc_sub4	|EX_REG		|32||
	|_lpc_add4	|EX_REG		|32||
	|_lpc_add8	|EX_REG		|32||
	|_lexc		|EX_REG		|32||
	|_ldata1	|EX_REG		|32||
	|_ldata2	|EX_REG		|32||
	|_limm32	|EX_REG		|32||
	|_ldelaysolt	|EX_REG	|1 ||
	|_inst		|ID.ID_REG.inst_	|32	|正常进入执行阶段的指令			|
	|_pc		|ID.ID_REG.pc_		|32	|正常进入执行阶段的指令的地址	|
	|_pc_sub4	|ID.ID_REG.pc_sub4_	|32	|正常进入的pc-4用于延迟槽指令的异常处理返回地址		|
	|_pc_add4	|ID.ID_REG.pc_add4_	|32	|正常进入的pc+4用于执行阶段计算b类型分支指令的跳转目标			|
	|_pc_add8	|ID.ID_REG.pc_add8_	|32	|正常进入的pc+8用于链接跳转指令的地址保存				|
	|_exc		|ID.ID_REG.exc_		|32	|正常进入执行阶段的异常向量				|
	|_data1		|ID.ID_MUX2.data1_	|32	|正常进入执行阶段的alu原操作数1				|
	|_data2		|ID.ID_MUX2.data2_	|32	|正常进入执行阶段的alu原操作数2				|
	|_imm32		|ID.ID_EXT.imm32_	|32	|正常进入执行阶段的拓展之后的立即数			|
	|_delaysolt	|ID.ID_OR1.delaysolt_	|1	|正常进入执行阶段的指令是否是延迟槽指令		|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:----|
	|inst_		|EX.EX_REG|32	|即将进入执行阶段的指令			|
	|pc_		|EX.EX_REG|32	|即将进入执行阶段的指令的地址	|
	|pc_sub4_	|EX.EX_REG|32	|即将进入的pc-4用于延迟槽指令的异常处理返回地址		|
	|pc_add4_	|EX.EX_REG|32	|即将进入的pc+4用于执行阶段计算b类型分支指令的跳转目标			|
	|pc_add8_	|EX.EX_REG|32	|即将进入的pc+8用于链接跳转指令的地址保存				|
	|exc_		|EX.EX_REG|32	|即将进入执行阶段的异常向量				|
	|data1_		|EX.EX_REG|32	|即将进入执行阶段的alu原操作数1				|
	|data2_		|EX.EX_REG|32	|即将进入执行阶段的alu原操作数2				|
	|imm32_		|EX.EX_REG|32	|即将进入执行阶段的拓展之后的立即数			|
	|delaysolt_	|EX.EX_REG|即将进入执行阶段的指令是否是延迟槽指令				|
- [top](#cpu)
	
#### ADD

- 部件描述：计算(pc+4)+imm32作为b类型分支指令的跳转地址
- 部件类型：加法器
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc_add4		| EX.EX_REG.pc_add4_ |32	|当前取指阶段的PC			|
	| _imm32        | EX.EX_REG.imm32_   | 32 | 拓展之后的立即数	| 
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|bb_target_				|IF.IF_MUX1._bb_target			|32	|b类型分支跳转指令的目的地址		|
- [top](#cpu)

#### ALU

- 部件描述：运算单元 
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_data1		|EX.EX_REG.data1_	|32	|alu原操作数1				|
	|_data2		|EX.EX_REG.data2_	|32	|alu原操作数2				|
	|_alu_op	|EX.EX_CU.alu_op_	|8	|alu运算类型				|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|alu_res_		|EXCEPTION.EXCEPTION_MUX1._alu_res/EX.EX_EXC._alu_res/EX.AND1._alu_res	|32	|alu的运算结果		|
	|alu_overflow_	|EX.EX_EXC._alu_overflow		|1	|alu是否溢出		|
- [top](#cpu)

#### EX_CU

- 部件描述：执行阶段译码模块
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_inst			|EX.EX_REG.inst_		|32		|执行阶段的指令			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|alu_op_			|EX.ALU._alu_op			|8		|alu的运算类型		|
	|bb_				|EX.EX_AND1._bb			|1		|当前指令是否是b类型跳转指令			|
	|div_				|EX.DIV._div			|2		|当前指令是否是除法指令以及除法类型		|
	|mult_			|EX.MULT._mult			|2		|当前指令是否是乘法指令以及乘法类型		|
	|overflow_			|EX.EX_EXC._overflow	|1	|当前指令是否会发生溢出				|
	|dm_				|EX.EX_EXC._dm			|1	|当前指令是否需要访问dm				|
- [top](#cpu)

#### EX_EXC

- 部件描述：执行阶段异常捕获模块
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_exc			|EX.EX_REG.exc_				|32		|执行阶段之前捕获到的当前指令的异常			|
	|_alu_res		|EX.ALU.alu_res_			|32		|alu的运算结果（用于判断访存的地址例外）	|
	|_dm			|EX.EX_CU.dm_				|1		|该指令是否需要访存							|
	|_alu_overflow	|EX.ALU.alu_overflow_		|1		|alu运算是否溢出					|
	|_overflow		|EX.EX_CU.overflow_			|1		|该指令是否需要检测溢出				|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|exc_		|EXCEPTION.EXCEPTION_MUX1._exc		|32	|异常处理阶段之前捕获的异常				|
- [top](#cpu)

#### DIV 

- 部件描述：除法计算单元 
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_data1		|EX.EX_REG.data1_		|32	|被除数		|
	|_data2		|EX.EX_REG.data2_		|32	|除数		|
	|_div		|EX.EX_CU.div_			|2	|是否进行除法运算以及是否是除法			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|div_res_		|EXCEPTION.EXCEPTION_MUX1._div_res	|64		|除法运算结果		|
	|div_stall_flush_		|EX.EX_OR1._div_stall_flush	|1		|除法的流水线暂停及冲刷信号			|
- [top](#cpu)

#### MULT 

- 部件描述：乘法计算单元 
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_data1		|EX.EX_REG.data1_		|32	|乘数1		|
	|_data2		|EX.EX_REG.data2_		|32	|乘数2		|
	|_mult		|EX.EX_CU.mult_			|2	|是否进行乘法运算以及是否是乘法			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|mult_res_		|EXCEPTION.EXCEPTION_MUX1._mult_res	|64		|乘法运算结果		|
	|mult_stall_flush_		|EX.EX_OR1._mult_stall_flush	|1		|乘法的流水线暂停及冲刷信号			|
- [top](#cpu)

#### EX_AND1

- 部件描述：用于确定b类型分支是否跳转的与门
- 部件类型：二输入与门
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_bb		|EX.EX_CU.bb_			|1	|是否是b类型分支指令			|
	|_alu_res	|EX.ALU.alu_res_		|32	|b类型分支指令是否跳转成功		|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|bb_		|IF.IF_MUX1.sel_npc_[4]			|1	|b类型分支指令是否跳转成功			|
- [top](#cpu)

#### EX_OR1

- 部件描述：用于确定执行阶段是否需要暂停以及冲刷流水线
- 部件类型：二输入或门
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_div_stall_flush		|EX.DIV.div_stall_flush_		|1		|除法暂停及冲刷流水线			|
	|_mult_stall_flush		|EX.MULT.mult_stall_flush_		|1		|乘法暂停及冲刷流水线			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|_ex_stall_flush		|STALL._ex_stall_flush/FLUSH._ex_stall_flush		|1		|乘法暂停及冲刷流水线			|
- [top](#cpu)

### EXCEPTION

#### EXCEPTION_REG

- 部件描述：异常处理阶段的数据的寄存器组
- 部件类型：寄存器组
- 内部寄存器说明
	|名称			|位宽|描述			|
	|:---:|:---:|:---:|
	|PC				|32		|缓存当前处于异常处理阶段指令的地址			|
	|INST			|32		|缓存当前处于异常处理阶段的指令				|
	|PC_SUB4		|32		|缓存pc-4用于延迟槽指令异常处理时的返回地址			|
	|PC_ADD8		|32		|缓存pc+8用于链接跳转指令保存返回地址				|
	|DIV_RES		|64		|缓存除法的运算结果			|
	|MULT_RES		|64		|缓存乘法的运算结果			|
	|ALU_RES		|32		|缓存ALU的运算结果			|
	|EXC			|32		|缓存异常处理级之前捕获的异常			|
	|DELAYSOLT	|1 |缓存当前指令是否是延迟槽指令   |
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_32constant0			|常数生成器		|32		|32位常数0			|
	|_pc				|EXCEPTION.EXCEPTION_MUX1.pc_			|32	|即将进入异常处理阶段的指令的地址			|
	|_inst			|EXCEPTION.EXCEPTION_MUX1.inst_	  			|32	|即将进入异常处理阶段的指令				|
	|_pc_sub4       |EXCEPTION.EXCEPTION_MUX1.pc_sub4_			|32	|pc-4用于延迟槽指令异常处理时的返回地址			|
	|_pc_add8       |EXCEPTION.EXCEPTION_MUX1.pc_add8_			|32	|pc+8用于链接跳转指令保存返回地址				|
	|_div_res       |EXCEPTION.EXCEPTION_MUX1.div_res_			|64	|即将进入异常处理阶段的除法的运算结果			|
	|_mult_res      |EXCEPTION.EXCEPTION_MUX1.mult_res_			|64	|即将进入异常处理阶段的乘法的运算结果			|
	|_alu_res       |EXCEPTION.EXCEPTION_MUX1.alu_res_			|32	|即将进入异常处理阶段的ALU的运算结果			|
	|_exc           |EXCEPTION.EXCEPTION_MUX1.exc_    			|32	|即将进入异常处理阶段的异常处理级之前捕获的异常			|
	|_delaysolt		|EXCEPTION.EXCEPTION_MUX1.delaysolt_		|1	|即将进入异常处理阶段的指令是否是延迟槽指令			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|pc_		   |EXCEPTION.EXCEPTION_MUX1._lpc/MEM.MEM_MUX1._pc/EXCEPTION.CP0._pc		|32	||
    |inst_	       |EXCEPTION.EXCEPTION_MUX1._linst/MEM.MEM_MUX1._inst/EXCEPTION.EXC_CU1._inst		|32	||
    |pc_sub4_      |EXCEPTION.EXCEPTION_MUX1._lpc_sub4/EXCEPTION.CP0._pc_sub4			|32	||
    |pc_add8_      |EXCEPTION.EXCEPTION_MUX1._lpc_add8/MEM.MEM_MUX1._pc_add8	|32	||
    |div_res_      |EXCEPTION.EXCEPTION_MUX1._ldiv_res/MEM.MEM_MUX1._div_res	|64	||
    |mult_res_     |EXCEPTION.EXCEPTION_MUX1._lmult_res/MEM.MEM_MUX1._mult_res	|64	||
    |alu_res_      |EXCEPTION.EXCEPTION_MUX1._lalu_res/MEM.MEM_MUX1._alu_res	|32	||
    |exc_          |EXCEPTION.EXCEPTION_MUX1._lexc/CATCH._exc		|32	||
	|delaysolt_	   |EXCEPTION.EXCEPTION_MUX1._ldelaysolt/EXCEPTION.CP0._delaysolt				|1	||
- [top](#cpu)

#### EXCEPTION_MUX1

- 部件描述：选择进入异常处理阶段的寄存器数据
- 部件类型：优先选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_exception_data		|{rst/FLUSH.flush_[3]/STALL.stall[3]}|3|硬件复位，流水线冲刷，流水线暂停		|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_32constant0		|常数生成器				|32	|32位常数0（流水线冲刷和复位）			|
	|_lpc				|EXCEPTION.EXCEPTION_REG.pc_	|32	||
    |_linst				|EXCEPTION.EXCEPTION_REG.inst_	|32	||
    |_lpc_sub4			|EXCEPTION.EXCEPTION_REG.pc_sub4_	|32	||
    |_lpc_add8			|EXCEPTION.EXCEPTION_REG.pc_add8_	|32	||
    |_ldiv_res			|EXCEPTION.EXCEPTION_REG.div_res_	|64	||
    |_lmult_res			|EXCEPTION.EXCEPTION_REG.mult_res_	|64	||
    |_lalu_res			|EXCEPTION.EXCEPTION_REG.alu_res_	|32	||
    |_lexc				|EXCEPTION.EXCEPTION_REG.exc_	|32	||
	|_ldelaysolt		|EXCEPTION.EXCEPTION_REG.dealysolt_	|1	||
	|_pc			|EX.EX_REG.pc_				|32	|正常异常处理阶段的指令的地址			|
	|_inst			|EX.EX_REG.inst_			|32	|正常异常处理阶段的指令				|
	|_pc_sub4       |EX.EX_REG.pc_sub4_			|32	|正常pc-4用于延迟槽指令异常处理时的返回地址			|
	|_pc_add8       |EX.EX_REG.pc_add8_			|32	|正常pc+8用于链接跳转指令保存返回地址				|
	|_div_res       |EX.DIV.div_res_			|64	|正常异常处理阶段的除法的运算结果			|
	|_mult_res      |EX.MULT.mult_res_			|64	|正常异常处理阶段的乘法的运算结果			|
	|_alu_res       |EX.ALU.alu_res_			|32	|正常异常处理阶段的ALU的运算结果			|
	|_exc           |EX.EXC.exc_				|32	|正常异常处理阶段的异常处理级之前捕获的异常			|
	|_delaysolt		|EX.EX_REG.delaysolt_		|1	|正常异常处理阶段的指令是否在延迟槽内				|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|pc_         	 |EXCEPTION.EXCEPTION_REG._pc			|32	||
    |inst_		     |EXCEPTION.EXCEPTION_REG._inst			|32	||
    |pc_sub4_        |EXCEPTION.EXCEPTION_REG._pc_sub4			|32	||
    |pc_add8_        |EXCEPTION.EXCEPTION_REG._pc_add8			|32	||
    |div_res_        |EXCEPTION.EXCEPTION_REG._div_res			|64	||
    |mult_res_       |EXCEPTION.EXCEPTION_REG._mult_res			|64	||
    |alu_res_        |EXCEPTION.EXCEPTION_REG._alu_res			|32	||
    |exc_            |EXCEPTION.EXCEPTION_REG._exc			|32	||
	|delaysolt_		 |EXCEPTION.EXCEPTION_REG._delaysolt	|1	||
- [top](#cpu)

#### CATCH

- 模块描述：异常捕获
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_exc		|EXCEPTION.EXCEPTION_MUX1.exc_			|32	|异常向量		|
	|_cause		|EXCEPTION.CP0.cause_					|32	|cp0cause寄存器的值			|
	|_status		|EXCEPTION.CP0.status_					|32	|cp0status寄存器的值			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|excf_			|EXCEPTION.EXCEPTION_CU2._excf		|32		|最终要处理的异常向量			|
- [top](#cpu)

#### EXC_CU1

- 模块描述：异常处理控制单元1
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_inst			|EXCEPTION.EXCEPTION_REG.inst_			|32		||
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|dm_we_				|EXCEPTION.EXCEPTION_MUX2._dm_we			|1	|该指令是否要写dm			|
- [top](#cpu)

#### EXC_CU2

- 模块描述：异常处理控制单元2
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_excf			|EXCEPTION.CATCH._excf		|32	|将要处理的异常向量				|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|sel_exc_pc_		|EXCEPTION.EXCEPTION_MUX3._sel_exc_pc			|2	|选择异常处理的目标pc（是否选用取决于flush）		|
	|sel_dm_we_			|EXCEPTION.EXCEPTION_MUX2._sel_dm_we			|1	|是否要取消写入dm					|
	|exc_flush_			|FLUSH._exc_flush				|1	|是否处理异常（冲刷流水线）		|
	|excf_				|EXCEPTION.CP0._excf			|32	|将最终处理的异常传递给cp0改变其中的值				|
- [top](#cpu)

#### EXCEPTION_MUX3

- 部件描述：PC更新选择器
- 部件类型：三选一选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_exc_pc		|EXC_CU2.sel_exc_pc_		|2			||
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_epc		|EXCEPTION.CP0.epc_					|32	|cp0epc寄存器的值			|
	|_32constant0	|常数生成器					|32	|32位常数0				|
	|_32constant		|常数生成器				|32	|约定的异常处理入口地址			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|exc_pc_			|IF.IF_MUX1._exc_pc			|32	|异常处理要跳转的pc（返回or跳转）				|
- [top](#cpu)

#### EXCEPTION_MUX2

- 部件描述：dm是否写入选择器
- 部件类型：二选一选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_dm_we			|EXC_CU2.sel_dm_we_		|1		||
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_dm_we				|EXCEPTION.EXC_CU1.dm_we_				|1	|正常情况是否要写入dm			|
	|_1constant0		|常数产生器					|1			|取消写入dm				|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|dm_we_			|MEM.MEM_MUX1._dm_we			|1		|最终是否要写入dm			|
- [top](#cpu)

#### CP0

- 模块描述：协处理器
- 内部寄存器说明
	|名称			|位宽|寄存器编号|描述			|
	|:---:|:---:|:---:|:----:|
	|BadVAddr		|32	|8	|记录最新地址相关例外的出错地址			|
	|Count			|32	|9	|处理器内部计数器					|
	|Compare		|32	|11	|发生时钟中断的计数					|
	|Status			|32	|12	|处理器状态与控制寄存器				|
	|Cause			|32	|13	|存放上一次例外发生的原因			|
	|EPC			|32	|14	|存放上一次发生例外的指令的PC		写控制器
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	| _excf      | EXCEPTION.EXC_CU2.excf_            | 32 | 最终处理的异常类型              |
	| _pc        | EXCEPTION.EXCEPTION_REG.pc_        | 32 | 发生异常的指令的地址（存入EPC） |
	| _pc_sub4   | EXCEPTION.EXCEPTION_REG.pc_sub4_   | 32 | 延迟槽指令则要将pc-4存入EPC     |
	| _delaysolt | EXCEPTION.EXCEPTION_REG.delaysolt_ | 1  | 发生异常的指令是否是延迟槽指令  |
	| _raddr     | ID.ID_REG.inst_[15:11]             | 5  | mfc0要读取的地址                |
	| _int       | -                                  | 6  | 6个外部中断输入                 |
	| _wdata	 | ID.RF.rt_data_					  | 32 | MTC0的写数据					 |
	| _waddr	 | WB.WB_REG.inst_[15:11]			  | 32 | MTC0的写地址					 |
	| _we		 | WB.WB_CU.cp0_we_					  | 1  | cp0写使能						 |
	| _stall   | STALL.stall_[6]		| 1 | 写暂停信号    |
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	| rdata_     | ID.ID_MUX2._cp0_rd_rdata/WB.WB_MUX2._cp0_rdata      | 32 | mfc0读出的数据                                 |
	| timer_int_ | -                             | 1  | 是否发生计时器中断（传递给总线）               |
	| cause_     | EXCEPTION.CATCH._cause        | 32 | cause寄存器当前的值（用于判断最终发生的指令）  |
	| status_    | EXCEPTION.CATCH._status       | 32 | status寄存器当前的值（用于判断最终发生的指令） |
	| epc_       | EXCEPTION.EXCEPTION_MUX3._epc | 21 | 当前epc寄存器的值（用于异常处理的返回）        |
- [top](#cpu)

### MEM

#### MEM_REG

- 部件描述：访存阶段的数据的寄存器组
- 部件类型：寄存器组
- 内部寄存器说明
	|名称			|位宽|描述			|
	|:---:|:---:|:---:|
	| PC       | 32 | 缓存当前访存阶段的指令的地址             |
	| INST     | 32 | 缓存当前访存阶段的指令                   |
	| PC_ADD8  | 32 | 缓存当前pc+8（用于链接跳转保存返回地址） |
	| DIV_RES  | 64 | 缓存除法执行结果                         |
	| MULT_RES | 64 | 缓存乘法执行结果                         |
	| ALU_RES  | 32 | 缓存alu的运算结果                        |
	| DM_WE	   | 1  | 缓存数据存储器写使能					   |
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc		|MEM.MEM_MUX1.pc_		|32		|即将进入访存阶段的指令的地址				|
	|_inst		|MEM.MEM_MUX1.inst_		|32		|即将进入访存阶段的指令						|
	|_pc_add8	|MEM.MEM_MUX1.pc_add8_	|32		|即将进入的pc+8					|
	|_div_res	|MEM.MEM_MUX1.div_res_	|64		|即将进入访存阶段的除法运算结果				|
	|_mult_res	|MEM.MEM_MUX1.mult_res_	|64		|即将进入访存阶段的乘法运算结果				|
	|_alu_res	|MEM.MEM_MUX1.alu_res_	|32		|即将进入访存阶段的alu运算结果				|
	|_dm_we		|MEM.MEM_MUX1.dm_we_	|1		|即将进入访存阶段的数据存储器写使能			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|pc_		|WB.WB_MUX1._pc				|32	|当前访存阶段的指令的地址				|
	|inst_		|WB.WB_MUX1._inst/MEM.MEM_CU._inst	|32	|当前访存阶段的指令				|
	|pc_add8_	|WB.WB_MUX1._pc_add8				|32	|访存阶段的指令pc+8				|
	|div_res_	|WB.WB_MUX1._div_res				|64	|访存阶段的除法运算结果			|
	|mult_res_	|WB.WB_MUX1._mult_res				|64	|访存阶段的乘法运算结果			|
	|alu_res_	|WB.WB_MUX1._alu_res/MEM.DM._waddr/MEM.DM._raddr	|32	|访存阶段的alu运算结果			|
	|dm_we_		|MEM.DM._dm_we						|1	|数据存储器写使能			|
- [top](#cpu)

#### MEM_MUX1

- 部件描述：选择进入访存阶段的寄存器数据
- 部件类型：优先选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_mem_data		|{rst/FLUSH.flush_[4]/STALL.stall[4]}|3|硬件复位，流水线冲刷，流水线暂停		|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_lpc			|MEM.MEM_REG.pc_		|32	||
	|_linst			|MEM.MEM_REG.inst_		|32	||
	|_lpc_add8			|MEM.MEM_REG.pc_add8_		|32	||
	|_lalu_res			|MEM.MEM_REG.alu_res_		|32	||
	|_ldiv_res			|MEM.MEM_REG.div_res_		|64	||
	|_lmult_res			|MEM.MEM_REG.mult_res_		|64	||
	|_ldm_we			|MEM.MEM_REG.dm_we_			|1	||
	|_pc			|EXCEPTION.EXCEPTION_MUX1.pc_		|32	||
	|_inst			|EXCEPTION.EXCEPTION_MUX1.inst_		|32	||
	|_pc_add8			|EXCEPTION.EXCEPTION_MUX1.pc_add8_		|32	||
	|_div_res			|EXCEPTION.EXCEPTION_MUX1.div_res_		|64	||
	|_mult_res			|EXCEPTION.EXCEPTION_MUX1.mult_res_		|64	||
	|_alu_res			|EXCEPTION.EXCEPTION_MUX1.alu_res_		|32	||
	|_dm_we			|EXCEPTION.EXCEPTION_MUX2.dm_we_		|1	||
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|pc_			|MEM.MEM_REG._pc			|32	|即将进入访存阶段的指令的pc				|
	|inst_			|MEM.MEM_REG._inst			|32	|即将进入访存阶段的指令|
	|pc_add8_			|MEM.MEM_REG._pc_add8			|32	|即将进入访存阶段的pc+8|
	|div_res_			|MEM.MEM_REG._div_res			|64	|即将进入访存阶段的除法运算结果|
	|mult_res_			|MEM.MEM_REG._mult_res			|64	|即将进入访存阶段的乘法运算结果|
	|alu_res_			|MEM.MEM_REG._alu_res			|32	|即将进入访存阶段的alu的运算结果|
	|dm_we_			|MEM.MEM_REG._dm_we			|1	|即将进入访存阶段的数据存储器写使能|
- [top](#cpu)

#### DM

- 部件描述：数据存储器 
- 部件类型：寄存器组
- 内部部件说明
	|名称			|个数|位宽|类型|描述			|
	|:---:|:---:|:---:|:-----:|:-----:|
	|data_rom		|1024	|32		|寄存器		|临时充当数据存储器			|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_dm_we			|MEM.MEM_REG.dm_we_			|1		|数据存储器写使能			|
	|_wdata			|ID.RF.rt_data_			|32	|写数据				|
	|_waddr			|MEM.MEM_REG.alu_res_	|32	|写地址				|
	|_sel_dm_wdata	|MEM.MEM_CU.sel_dm_wdata_	|2	|写位选信号			|
	|_raddr			|MEM.MEM_REG.alu_res_	|32	|读地址				|
	|_sel_dm_rdata	|MEM.MEM_CU.sel_dm_rdata_	|32	|读位选信号		|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|dm_rdata		|WB.WB_MUX1_._dm_rdata		|32	|数据存储器读数据			|
- [top](#cpu)

#### MEM_CU

- 模块描述：访存阶段控制单元
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_inst		|MEM.MEM_REG.inst_		|32		|进行译码的指令|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|sel_dm_wdata_			|MEM.DM._sel_dm_wdata		|3	|数据存储器写位选择器		|
	|sel_dm_rdata_			|MEM.DM._sel_dm_rdata		|3	|数据存储器读位选择器		|
- [top](#cpu)

### WB

#### WB_MUX1

- 部件描述：选择进入回写阶段的寄存器数据
- 部件类型：优先选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_wb_data		|{rst/FLUSH.flush_[5]/STALL.stall[5]}|3|硬件复位，流水线冲刷，流水线暂停		|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_lpc		|WB.WB_REG.pc_			 |32||
	|_linst		|WB.WB_REG.inst_		 |32||
	|_lpc_add8	|WB.WB_REG.pc_add8_	     |32||
	|_ldiv_res	|WB.WB_REG.div_res_	     |64||
	|_lmult_res	|WB.WB_REG.mult_res_	 |64||
	|_lalu_res	|WB.WB_REG.alu_res_	     |32||
	|_ldm_we		|WB.WB_REG.dm_we_	 | 1||
	|_ldm_rdata	|WB.WB_REG.dm_rdata_	 |32||
	|_pc		|MEM.MEM_REG.pc_				|32	|正常进入回写阶段的指令的地址				|
	|_inst		|MEM.MEM_REG.inst_			|32	|正常进入回写阶段的指令				|
	|_pc_add8	|MEM.MEM_REG.pc_add8_		|32	|正常进入回写阶段的指令pc+8				|
	|_div_res	|MEM.MEM_REG.div_res_		|64	|正常进入回写阶段的除法运算结果			|
	|_mult_res	|MEM.MEM_REG.mult_res_		|64	|正常进入回写阶段的乘法运算结果			|
	|_alu_res	|MEM.MEM_REG.alu_res_		|32	|正常进入回写阶段的alu运算结果			|
	|_dm_we		|MEM.MEM_REG.dm_we_			|1	|正常进入回写阶段的数据存储器写使能			|
	|_dm_rdata		|MEM.DM.dm_rdata_			|1	|正常进入回写阶段的数据存储器写使能			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|pc_		|WB.WB_REG._pc		|32		|即将进入回写阶段的指令的地址				|
	|inst_		|WB.WB_REG._inst		|32		|即将进入回写阶段的指令						|
	|pc_add8_	|WB.WB_REG._pc_add8	|32		|即将进入的pc+8					|
	|div_res_	|WB.WB_REG._div_res	|64		|即将进入回写阶段的除法运算结果				|
	|mult_res_	|WB.WB_REG._mult_res	|64		|即将进入回写阶段的乘法运算结果				|
	|alu_res_	|WB.WB_REG._alu_res	|32		|即将进入回写阶段的alu运算结果				|
	|dm_we_		|WB.WB_REG._dm_we	|1		|即将进入回写阶段的数据存储器写使能			|
	|dm_rdata_	|WB.WB_REG._dm_rdata	|32		|即将进入回写阶段的数据存储器读数据			|
- [top](#cpu)

#### WB_REG

- 部件描述：回写阶段的数据的寄存器组
- 部件类型：寄存器组
- 内部寄存器说明
	|名称			|位宽|描述			|
	|:---:|:---:|:---:|
	| PC       | 32 | 缓存当前回写阶段的指令的地址             |
	| INST     | 32 | 缓存当前回写阶段的指令                   |
	| PC_ADD8  | 32 | 缓存当前pc+8（用于链接跳转保存返回地址） |
	| DIV_RES  | 64 | 缓存除法执行结果                         |
	| MULT_RES | 64 | 缓存乘法执行结果                         |
	| ALU_RES  | 32 | 缓存alu的运算结果                        |
	| DM_WE	   | 1  | 缓存数据存储器写使能					   |
	| DM_RDATA | 32 | 缓存从数据存储器读出来的数据			   |
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_pc		|WB.WB_MUX1.pc_		|32		|即将进入回写阶段的指令的地址				|
	|_inst		|WB.WB_MUX1.inst_		|32		|即将进入回写阶段的指令						|
	|_pc_add8	|WB.WB_MUX1.pc_add8_	|32		|即将进入的pc+8					|
	|_div_res	|WB.WB_MUX1.div_res_	|64		|即将进入回写阶段的除法运算结果				|
	|_mult_res	|WB.WB_MUX1.mult_res_	|64		|即将进入回写阶段的乘法运算结果				|
	|_alu_res	|WB.WB_MUX1.alu_res_	|32		|即将进入回写阶段的alu运算结果				|
	|_dm_we		|WB.WB_MUX1.dm_we_	|1		|即将进入回写阶段的数据存储器写使能			|
	|_dm_rdata	|WB.WB_MUX1.dm_rdata_	|32		|即将进入回写阶段的数据存储器读数据			|
- 输出信号说明 
	|名称			|去向		|位宽|描述			| 
	|:---:|:---:|:---:|:---:|
	|pc_		|WB.WB_MUX1._lpc		|32		|当前回写阶段的指令的地址				|
	|inst_		|WB.WB_MUX1._linst		|32		|当前回写阶段的指令						|
	|pc_add8_	|WB.WB_MUX1._lpc_add8/WB.WB_MUX2._pc_add8	|32		|当前的pc+8					|
	|div_res_	|WB.WB_MUX1._ldiv_res/WB.WB_MUX4._div_res	|64		|当前回写阶段的除法运算结果				|
	|mult_res_	|WB.WB_MUX1._lmult_res/WB.WB_MUX4._mult_res	|64		|当前回写阶段的乘法运算结果				|
	|alu_res_	|WB.WB_MUX1._lalu_res/WB.WB_MUX4._alu_res/WB.WB_MUX2._alu_res	|32		|当前回写阶段的alu运算结果				|
	|dm_rdata_	|WB.WB_MUX1._ldm_rdata/WB.WB_MUX2._dm_rdata	|32		|当前回写阶段的数据存储器读数据			|
- [top](#cpu)

#### WB_CU

- 模块描述：回写阶段控制单元
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_inst			|WB.WB_REG.inst_		|32	|当前处于回写阶段的指令		|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|sel_hilo_wdata_			|WB.HILO_CU._sel_hilo_wdata		|3	|hilo寄存器写控制信号			|
	|cp0_we_			|EXCEPTION.CP0._we			|1	|cp0写使能						|
	|rf_we_				|ID.RF._we					|1	|RF写使能						|
	|sel_rf_wdata_		|WB.WB_MUX2._sel_rf_wdata	|3	|RF写数据选择信号				|
	|sel_rf_waddr_		|WB.WB_MUX3._sel_rf_waddr	|3	|RF写地址选择信号				|
- [top](#cpu)

#### WB_MUX2

- 部件描述：选择rf的写数据
- 部件类型：选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_rf_wdata			|WB,WB_CU.sel_rf_wdata_			|3		|选择rf写数据信号			|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_32constant0		|常数生成器				|32	|32位常数0(NOP)				|
	|_lo				|WB.HILO.lo_			|32	|lo寄存器的值				|
	|_hi				|WB.HILO.hi_			|32	|hi寄存器的值				|
	|_alu_res			|WB.WB_REG.alu_res_		|32	|alu的运算结果				|
	|_cp0_rdata			|EXCEPTION.CP0.rdata_	|32	|cp0读出的值(mfc0)			|
	|_dm_rdata		|WB.WB_REG.dm_rdata_	|32	|数据存储器读出的值(load)	|
	|_pc_add8			|WB.WB_REG.pc_add8_		|32	|pc+8链接跳转指令保存的返回地址		|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|rf_wdata_			|ID.RF._wdata			|32	|即将写入RF的数据				|
- [top](#cpu)

#### WB_MUX3

- 部件描述：
- 部件类型：
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_rf_waddr		|WB.WB_CU.sel_rf_waddr			|3		|选择rf的写地址				|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_5constant0		|常数生成器			|5	|无效信号			|
	|_5constant31		|常数生成器			|5	|链接跳转指令返回地址保存在31号寄存器	|
	|_rt				|WB.WB_REG.inst_[20:16]	|5	|rt寄存器的地址				|
	|_rd				|WB.WB_REG.inst_[15:11]	|5	|rd寄存器的地址				|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|rf_waddr_				|ID.RF._waddr			|5	|即将写RF的数据的写地址			|
- [top](#cpu)

#### HILO

- 部件描述：hilo寄存器 
- 部件类型：寄存器组
- 内部寄存器说明
	|名称			|位宽|描述			|
	|:---:|:---:|:---:|
	|HI			|32		|存放乘法高32位，除法的余数			|
	|LO			|32		|存放乘法低32位，除法的商			|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_hi		|HILO_CU.hi_	|32	|要写入hi寄存器的值				|
	|_lo		|HILO_CU.lo_	|32	|要写入lo寄存器的值                             |
	| _stall   | STALL.stall_[6]		| 1 | 写暂停信号    |
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|hi_		|reg	|32	|output	|hi寄存器的值                                   |
	|lo_		|reg	|32	|output	|lo寄存器的值                                   |
- [top](#cpu)

#### WB_MUX4

- 部件描述：HILO寄存器写数据选择
- 部件类型：选择器
- 选择信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_sel_hilo_wdata			|WB.WB_CU.sel_hilo_wdata_		|3	|hilo寄存器写数据选择信号			|
- 输入信号说明
	|名称			|来源		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_hi			|WB.HILO.hi_			|32	|当前hi寄存器中的值				|
	|_lo			|WB.HILO.lo_			|32	|当前lo寄存器中的值				|
	|_mult_res		|WB.WB_REG.mult_res_	|64	|乘法运算的结果					|
	|_div_res		|WB.WB_REG.div_res_		|64	|除法运算的结果					|
	|_alu_res		|WB.WB_REG.alu_res_		|32	|alu的运算结果(写进hi或lo)		|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|hi_			|WB.HILO._hi			|32			|下个时钟周期hi寄存器的值				|
	|lo_			|WB.HILO._lo			|32			|下个时钟周期lo寄存器的值				|
- [top](#cpu)

### STALL

- 部件描述：流水线暂停控制单元
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_ex_stall_flush		|EX.EX_OR1.ex_stall_flush_		|1	|乘除法暂停流水线			|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|stall_[0]			|IF.IF_MUX1._sel_npc[2]			|1	|PC值不变(取指阶段数据不变）				|
	|stall_[1]			|ID.ID_MUX1._sel_id_data[2]			|1	|ID阶段数据不变				|
	|stall_[2]			|EX.EX_MUX1._sel_ex_data[2]			|1	|EX阶段数据不变				|
	|stall_[3]			|EXCEPTION.EXCEPTION_MUX1._sel_exc_data[2]			|1	|EXCEPTION阶段数据不变				|
	|stall_[4]			|MEM.MEM_MUX1._sel_mem_data[2]			|1	|MEM阶段数据不变				|
	|stall_[5]			|WB.WB_MUX1._sel_wb_data[2]			|1	|WB阶段数据不变				|
	|stall_[6]			|EXCEPTION.CP0._stall/ID.RF._stall/WB.HILO._stall|1	|寄存器写数据暂停	|
- [top](#cpu)

### FLUSH

- 部件描述：流水线冒泡控制单元
- 输入信号说明
	|名称			|来源			|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|_ex_stall_flush		|EX.EX_OR1.ex_stall_flush_		|1	|乘除法冲刷流水线			|
	|_exc_flush				|EXCEPTION.EXC_CU2.exc_flush_		|1	|异常处理冲刷流水线			|
	|_bb					|EX.EX_AND1.bb_					|1	|b类型分支指令跳转成功冲刷流水线	|
- 输出信号说明
	|名称			|去向		|位宽|描述			|
	|:---:|:---:|:---:|:---:|
	|flush_[0]			|IF.IF_MUX1._sel_npc[1]			|1	|PC值冲刷(取指阶段数据冲刷，转中断处理程序）				|
	|flush_[1]			|ID.ID_MUX1._sel_id_data[1]			|1	|ID阶段数据冲刷				|
	|flush_[2]			|EX.EX_MUX1._sel_ex_data[1]			|1	|EX阶段数据冲刷				|
	|flush_[3]			|EXCEPTION.EXCEPTION_MUX1._sel_exc_data[1]			|1	|EXCEPTION阶段数据冲刷				|
	|flush_[4]			|MEM.MEM_MUX1._sel_mem_data[1]			|1	|MEM阶段数据冲刷				|
	|flush_[5]			|WB.WB_MUX1._sel_wb_data[1]			|1	|WB阶段数据冲刷				|
- [top](#cpu)

